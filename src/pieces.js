import { useState, useRef, useEffect } from "react";

export const Pawn = (props) => (
  <div style={{ height: "100%", width: "100%" }} className="size">
    <svg
      version="1.0"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 225.000000 225.000000"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        transform="translate(0.000000,225.000000) scale(0.100000,-0.100000)"
        fill={props.color}
        stroke="none"
      >
        <path
          d="M1047 2000 c-44 -14 -95 -58 -117 -100 -41 -81 -13 -188 63 -238 l40
                -27 -46 -7 c-105 -15 -210 -101 -242 -199 -24 -71 -17 -179 15 -242 25 -50 83
                -110 126 -129 13 -6 24 -14 24 -17 0 -3 -35 -23 -78 -43 -143 -68 -249 -173
                -317 -313 -53 -110 -66 -177 -63 -318 l3 -122 670 0 670 0 3 122 c3 142 -10
                210 -64 318 -69 142 -174 245 -316 313 -43 20 -78 40 -78 43 0 3 11 11 24 17
                43 19 101 79 126 129 32 63 39 171 15 242 -32 98 -137 184 -242 199 l-46 7 40
                27 c111 73 109 232 -4 311 -34 24 -54 30 -110 33 -37 2 -81 -1 -96 -6z"
        />
      </g>
    </svg>
  </div>
);

export const King = (props) => (
  <div style={{ height: "100%", width: "100%" }} className="size">
    <svg
      version="1.0"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 220.000000 230.000000"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        transform="translate(0.000000,230.000000) scale(0.100000,-0.100000)"
        fill={props.color}
        stroke="none"
      >
        <path
          d="M1072 2188 c-7 -7 -12 -31 -12 -55 l0 -43 -51 0 c-61 0 -89 -13 -89
-43 0 -36 19 -47 82 -47 l58 0 0 -74 c0 -68 -2 -74 -23 -80 -37 -9 -101 -70
-132 -127 -26 -48 -30 -64 -30 -136 l0 -82 -30 20 c-162 109 -384 141 -518 75
-166 -81 -263 -294 -209 -462 35 -113 122 -217 250 -302 44 -30 55 -33 63 -21
13 21 13 22 -43 54 -77 45 -179 151 -214 220 -26 54 -29 70 -29 155 0 84 3
101 28 147 34 66 83 116 150 151 48 25 60 27 172 27 105 0 129 -3 193 -27 40
-14 105 -45 144 -68 81 -48 201 -159 238 -219 14 -22 27 -41 30 -41 3 0 17 20
33 44 39 62 171 184 247 229 36 21 102 49 147 63 72 23 96 26 180 22 114 -5
179 -29 255 -97 69 -61 98 -127 98 -222 0 -68 -4 -84 -37 -150 -43 -86 -134
-182 -235 -247 -41 -27 -68 -51 -70 -64 -5 -34 -32 -45 -70 -29 -191 80 -354
112 -568 113 -220 0 -379 -28 -539 -94 -60 -25 -77 -29 -92 -19 -18 10 -19 7
-19 -63 l0 -75 74 34 c91 42 230 79 359 95 139 18 413 8 540 -20 114 -24 250
-71 290 -100 l27 -21 0 69 0 69 78 16 c127 28 233 102 283 199 16 32 19 59 19
199 0 158 -1 162 -30 223 -38 81 -127 166 -216 208 -56 26 -82 32 -163 36
-113 5 -191 -11 -293 -62 l-68 -34 0 62 c0 38 -8 77 -19 103 -26 56 -95 130
-137 145 l-34 12 0 73 0 73 59 0 c41 0 65 5 75 16 38 38 -1 74 -81 74 l-53 0
0 43 c0 45 -13 67 -40 67 -9 0 -21 -5 -28 -12z"
        />
        <path
          d="M417 1479 c-115 -27 -189 -120 -190 -239 -1 -107 72 -214 199 -296
33 -20 71 -45 86 -55 26 -18 28 -18 85 2 90 31 248 60 361 66 l102 6 0 65 c0
52 -6 75 -30 121 -83 155 -264 288 -446 326 -77 16 -111 17 -167 4z"
        />
        <path
          d="M1595 1476 c-125 -29 -234 -94 -328 -195 -89 -97 -111 -141 -117
-237 l-5 -82 80 -6 c105 -9 259 -41 342 -71 76 -27 77 -27 185 47 260 176 299
413 85 518 -75 37 -157 45 -242 26z"
        />
        <path
          d="M930 669 c-129 -11 -263 -41 -372 -85 -74 -29 -95 -34 -110 -25 -17
10 -18 6 -18 -63 l0 -75 76 36 c92 42 224 77 357 93 138 18 424 8 542 -18 108
-24 249 -75 288 -102 l27 -21 0 83 c0 64 -3 79 -12 70 -18 -18 -39 -15 -112
18 -93 42 -249 78 -391 90 -132 11 -138 11 -275 -1z"
        />
        <path
          d="M960 474 c-166 -15 -338 -56 -449 -108 l-50 -23 47 -23 c318 -155
804 -157 1116 -4 l56 27 -60 28 c-78 37 -174 65 -280 83 -90 16 -304 27 -380
20z"
        />
      </g>
    </svg>
  </div>
);

export const Knight = (props) => (
  <div style={{ height: "100%", width: "100%" }} className="size">
    <svg
      version="1.0"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 78.000000 85.000000"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        transform="translate(0.000000,85.000000) scale(0.100000,-0.100000)"
        fill={props.color}
        stroke="none"
      >
        <path
          d="M392 813 c2 -21 -3 -30 -19 -38 -13 -5 -23 -17 -23 -26 0 -9 -10 -19
-23 -22 -12 -4 -59 -42 -105 -85 -72 -70 -82 -84 -82 -114 0 -40 11 -53 56
-62 25 -6 38 -2 63 20 30 25 34 26 75 14 24 -7 54 -9 67 -5 19 6 16 -1 -19
-41 -64 -72 -121 -161 -128 -201 -4 -20 -3 -52 2 -72 l9 -36 158 -3 159 -3 -7
30 c-6 30 19 144 50 224 20 49 19 150 -1 218 -19 63 -95 146 -144 156 -19 3
-37 17 -51 39 -25 41 -41 44 -37 7z"
        />
        <path
          d="M234 116 c-3 -7 -4 -35 -2 -62 l3 -49 190 0 190 0 0 60 0 60 -188 3
c-153 2 -188 0 -193 -12z"
        />
      </g>
    </svg>
  </div>
);

export const Bishop = (props) => (
  <div style={{ height: "100%", width: "100%" }} className="size">
    <svg
      version="1.0"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 880.000000 1075.000000"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        transform="translate(0.000000,1075.000000) scale(0.100000,-0.100000)"
        fill={props.color}
        stroke="none"
      >
        <path
          d="M4300 10333 c-14 -2 -54 -13 -90 -25 -207 -66 -369 -208 -460 -403
-52 -109 -70 -192 -70 -311 0 -175 53 -333 158 -473 l49 -64 -97 -171 c-125
-222 -152 -263 -241 -371 -102 -123 -209 -261 -209 -270 0 -4 26 -35 58 -69
143 -153 352 -427 505 -663 529 -813 950 -1857 974 -2413 l5 -135 -32 45
c-188 258 -337 433 -692 807 -506 533 -1154 1113 -1486 1328 -73 47 -188 105
-208 105 -6 0 -45 -48 -87 -107 -453 -646 -749 -1501 -724 -2093 7 -173 26
-261 94 -440 191 -502 512 -1015 905 -1450 l96 -106 -57 -81 c-198 -288 -422
-505 -686 -666 -147 -89 -273 -148 -585 -272 -599 -239 -835 -370 -887 -493
-42 -99 -107 -380 -119 -513 l-7 -67 2184 -7 c2437 -8 5794 -4 5804 7 19 18
-91 468 -139 574 -65 142 -233 239 -811 469 -176 70 -382 159 -458 197 -323
164 -570 365 -799 651 -82 103 -178 240 -178 255 0 4 16 24 36 43 62 59 305
338 426 489 217 272 413 564 483 720 327 729 213 1542 -347 2474 -227 377
-482 720 -895 1204 -296 346 -617 750 -725 911 l-56 85 68 73 c215 230 251
580 88 858 -24 41 -77 106 -128 157 -75 74 -101 93 -191 136 -57 28 -136 58
-176 66 -66 15 -230 20 -293 9z"
        />
      </g>
    </svg>
  </div>
);

export const Rook = (props) => (
  <div style={{ height: "100%", width: "100%" }} className="size">
    <svg
      version="1.0"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 225.000000 224.000000"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        transform="translate(0.000000,224.000000) scale(0.100000,-0.100000)"
        fill={props.color}
        stroke="none"
      >
        <path
          d="M520 1811 c-5 -11 -10 -77 -10 -146 l0 -127 75 -77 75 -77 0 -303 0
-303 -27 -49 c-16 -27 -33 -49 -40 -49 -23 0 -33 -38 -33 -119 l0 -81 -65 0
c-53 0 -66 -3 -75 -19 -14 -28 -13 -174 2 -189 17 -17 1389 -17 1406 0 7 7 12
44 12 98 0 54 -5 91 -12 98 -7 7 -39 12 -75 12 l-63 0 0 81 c0 81 -10 119 -33
119 -7 0 -24 22 -40 49 l-27 49 0 303 0 303 75 77 75 77 0 134 c0 91 -4 138
-12 146 -17 17 -239 17 -256 0 -7 -7 -12 -29 -12 -50 l0 -38 -85 0 -85 0 0 31
c0 67 -5 69 -163 69 -98 0 -147 -4 -155 -12 -7 -7 -12 -29 -12 -50 l0 -38 -85
0 -85 0 0 38 c0 21 -5 43 -12 50 -8 8 -51 12 -130 12 -106 0 -118 -2 -128 -19z
m190 -91 c0 -62 6 -65 147 -68 75 -2 139 1 156 7 24 9 27 16 27 53 l0 43 82
-2 83 -1 5 -43 c6 -54 15 -57 167 -58 143 -1 161 5 165 59 2 22 6 40 11 40 4
0 30 0 57 0 l50 0 0 -90 0 -90 -535 0 -535 0 0 88 c0 49 2 91 4 93 2 2 29 4
60 4 l56 0 0 -35z m865 -240 l-39 -40 -411 0 -411 0 -39 40 -39 40 489 0 489
0 -39 -40z m-65 -380 l0 -290 -385 0 -385 0 0 290 0 290 385 0 385 0 0 -290z
m17 -370 l21 -40 -424 0 -425 0 23 40 23 40 380 0 380 0 22 -40z m83 -184 c0
-30 -4 -56 -10 -58 -5 -1 -224 -2 -485 0 l-475 2 0 55 0 55 485 0 485 0 0 -54z
m150 -176 c0 -22 -5 -31 -22 -35 -13 -3 -297 -4 -633 -3 l-610 3 -3 33 -3 32
635 0 636 0 0 -30z"
        />
      </g>
    </svg>
  </div>
);

export const Queen = (props) => (
  <div
    style={{
      height: "100%",
      width: "100%",
      position: "absolute",
      overflow: "visible",
    }}
    className="size"
  >
    <svg
      version="1.0"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 840.000000 643.000000"
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        transform="translate(0.000000,643.000000) scale(0.100000,-0.100000)"
        fill={props.color}
        stroke="none"
      >
        <path
          d="M4141 6019 c-97 -19 -182 -85 -227 -177 -27 -53 -26 -201 1 -257 28
-58 107 -133 170 -160 38 -17 55 -31 55 -43 0 -35 -432 -2502 -444 -2537 -2
-5 -6 -3 -10 5 -40 101 -796 2284 -796 2298 0 5 27 30 60 55 111 86 146 158
138 283 -8 114 -65 200 -171 256 -61 33 -202 33 -268 0 -58 -28 -110 -78 -145
-138 -24 -41 -27 -57 -28 -138 0 -71 4 -100 19 -131 31 -64 112 -138 180 -164
33 -13 66 -29 73 -36 10 -9 -1 -248 -55 -1223 -37 -667 -70 -1212 -73 -1212
-7 0 -219 435 -602 1230 -256 531 -348 729 -348 751 0 8 16 25 35 38 42 28 91
100 106 155 6 23 9 73 7 112 -8 116 -67 202 -176 255 -36 18 -57 20 -140 17
-95 -3 -101 -4 -156 -41 -196 -130 -182 -417 26 -523 26 -13 79 -29 118 -36
67 -12 70 -13 75 -43 3 -16 63 -505 135 -1085 72 -580 133 -1064 135 -1075 2
-11 81 -114 175 -230 274 -336 300 -373 370 -530 93 -209 170 -397 170 -416 0
-9 -41 -115 -91 -235 -142 -339 -141 -339 -120 -358 27 -24 257 -130 346 -159
239 -78 419 -105 770 -118 312 -12 1543 -4 1742 11 131 10 308 44 443 85 176
53 403 153 424 187 13 21 3 48 -121 347 -51 123 -93 232 -93 241 0 18 78 210
170 415 71 158 103 204 369 530 94 116 174 219 176 230 2 11 63 495 135 1075
72 580 133 1069 136 1086 5 29 9 31 75 42 169 29 276 138 281 288 3 114 -45
209 -138 271 -55 37 -61 38 -155 41 -86 3 -104 1 -143 -19 -110 -55 -166 -136
-174 -253 -2 -39 1 -89 7 -112 15 -55 67 -131 107 -157 19 -12 34 -28 34 -36
0 -22 -98 -234 -347 -751 -411 -852 -596 -1230 -602 -1230 -12 0 -142 2422
-131 2435 6 7 38 23 72 35 44 16 76 37 113 74 73 74 89 112 89 221 1 81 -2 95
-27 138 -36 61 -88 111 -146 139 -62 31 -207 33 -261 4 -63 -33 -115 -83 -145
-137 -27 -49 -30 -62 -30 -149 0 -85 3 -100 27 -141 26 -44 83 -102 143 -144
l28 -21 -55 -164 c-104 -308 -720 -2078 -744 -2140 -4 -8 -8 -10 -10 -5 -10
27 -430 2419 -441 2512 l-5 42 65 31 c70 33 122 83 159 152 31 57 33 203 4
260 -64 131 -208 204 -345 177z"
        />
      </g>
    </svg>
  </div>
);

export const GreenPieces = {
  rook: <Rook color="green"></Rook>,
  queen: <Queen color="green"></Queen>,
  knight: <Knight color="green"></Knight>,
  pawn: <Pawn color="green"></Pawn>,
  bishop: <Bishop color="green"></Bishop>,
  king: <King color="green"></King>,
};

export const BluePieces = {
  rook: <Rook color="blue"></Rook>,
  queen: <Queen color="blue"></Queen>,
  knight: <Knight color="blue"></Knight>,
  pawn: <Pawn color="blue"></Pawn>,
  bishop: <Bishop color="blue"></Bishop>,
  king: <King color="blue"></King>,
};

export const DraggablePiece = (props) => {
  const [position, setPosition] = useState({ x: 0, y: 0 });
  const [pressed, setPressed] = useState(false);
  const ref = useRef();

  useEffect(() => {
    if (ref.current) {
      ref.current.style.transform = `translate(${position.x}px, ${position.y}px)`;
    }
  }, [position]);

  const onMouseMove = (event) => {
    if (pressed) {
      setPosition({
        x: position.x + event.movementX,
        y: position.y + event.movementY,
      });
    }
  };

  return (
    <div
      ref={ref}
      onMouseDown={() => setPressed(true)}
      onMouseUp={() => setPressed(false)}
      onMouseMove={onMouseMove}
    >
      {props.piece}
    </div>
  );
};
